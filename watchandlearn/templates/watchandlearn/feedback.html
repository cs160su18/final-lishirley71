{% extends "watchandlearn/base_generic.html" %}
{% load static %}

{% block content %}
<style>

body, html{
  margin: 0;
  overflow: none;
  height: 100%;
}

.left {
  overflow-y: auto; 
  left: 0;
  overflow-x: none;
  }

.right {
  overflow: none;
  right: 0;
}

.half {
  width: 50%;
  height:75%;
  text-align: center;
  position: absolute;
  top: 15%;
  bottom: 0;
}

.header {
  position: fixed;
}

</style>


<div class="container-fluid header">
  <div class="row">
    <div class="col-sm-12 text-left">
      <h1> Correct Answers </h1>
    </div>
  </div>
</div>


<div class="container">
      <div class = "left half">
      <div class="container-fluid quiz">
          <div class = "row">
            <div class="col">
              {% for question in questions %}
                {% with count=forloop.counter %}
                <fieldset class="question">
                  <legend>
                    {{ forloop.counter }}. {{ question.question_text }}
                  </legend>
                  <div class="row">
                    <div class="col-sm-10">
                        <p>{{ count }}</p>
                        {% if answers.count %}
                            <span id="correct">Correct!</span>
                        {% else %}
                            <span id="incorrect">Incorrect.</span> The correct answer is {{ question.answer|add:"-1" }} <br>
                            Your choice: {{ forloop.counter }}
                        {% endif %}
                      <div class="question-choice">
                        <input type="radio" name="question{{ forloop.counter }}" value="1"> {{ question.option1 }} </input>
                      </div>

                      <div class="question-choice">
                        <input type="radio" name="question{{ forloop.counter }}" value="2"> {{ question.option2 }} </input>
                      </div>

                      <div class="question-choice">
                        <input type="radio" name="question{{ forloop.counter }}" value="3"> {{ question.option3 }} </input>
                      </div>

                    </div>
                  </div>
                </fieldset>
                {% endwith %}
              {% endfor %}
            </div>
          </div>  
      </div>
      </div> 



      <div class = "right half">
        <div class="col justify-contents-center align-self-center" id="newavi"></div>
        <div class="row justify-content-center align-text-center">
          <div class="col-sm-1"><p>XP</p></div>
          <div class="col-sm-8">
            <div class="progress">
            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="30"
            aria-valuemin="0" aria-valuemax="100"  style="width:100%">
              <span>100% Complete</span>
            </div>
            </div>
          </div>
        </div>
      </div>  
      
</div>

<script type="text/javascript">
  window.onload = function() {
      var newavi = document.getElementById("newavi");
      newavi.innerHTML += "<div class='row justify-content-center align-text-center'><img src='{% static 'watchandlearn/images/avatars/lvl{{ profile.level }}.png' %}'' id='avatar'></div>";
  
      console.log({{ answers }});
  }
</script>

{% endblock %}